(this["webpackJsonpreact-covid"]=this["webpackJsonpreact-covid"]||[]).push([[0],{243:function(e,t,n){e.exports=n(453)},248:function(e,t,n){},249:function(e,t,n){},453:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(84),c=n.n(l),o=(n(248),n(249),n(21)),i=n(77),u=n(73),s=n(167),m=n(104),d=(r.a.memo((function(e){var t=e.onPatientMarkerClicked;console.log("Rendering CovidGoogleMap...");var n=Object(a.useState)([]),l=Object(o.a)(n,2),c=l[0],i=l[1];Object(a.useEffect)((function(){fetch("https://maps.vnpost.vn/apps/covid19/api/patientapi/list").then((function(e){return e.json()})).then((function(e){i(e.data)}),(function(e){}))}),[]);var u=r.a.memo(Object(s.a)(Object(s.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCfrgza6UF7_rK2NsnuUQBytLTSbKYuAlA&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"600px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),m.withScriptjs,m.withGoogleMap)((function(e){return r.a.createElement(m.GoogleMap,{defaultZoom:16,defaultCenter:{lat:10.762913,lng:106.6799884}},c.map((function(e,n){return r.a.createElement(m.Marker,{key:n,position:{lat:e.lat,lng:e.lng},onClick:function(){t(e)}})})))})));return r.a.createElement(u,null)})),n(91)),f=function(e){var t=e.name,n=e.address,a=e.note,l=e.verifyDate;return r.a.createElement("div",{class:"info-card"},r.a.createElement(d.a,{style:{width:"18rem"}},r.a.createElement(d.a.Header,null,r.a.createElement("h2",null,"Th\xf4ng tin chi ti\u1ebft b\u1ec7nh nh\xe2n")),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,null,"T\xean b\u1ec7nh nh\xe2n : ",t),r.a.createElement(d.a.Text,null,r.a.createElement("ul",null,r.a.createElement("li",null,n),r.a.createElement("li",null,a),r.a.createElement("li",null,l))))))},h=n(132),p=n(466),E=n(467),b=n(459),v=n(468),g=function(e){var t=e.onPatientMarkerClicked,n=e.patients,a=e.currentPatient;return r.a.createElement(p.a,{center:[a?a.lat:10.762887,a?a.lng:106.6800684],zoom:8},r.a.createElement(E.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png   "}),n.map((function(e,n){return r.a.createElement(b.a,{position:[e.lat,e.lng],onClick:function(){t(e,n)}},r.a.createElement(v.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,"Name: ",e.name),r.a.createElement("li",null,"Address: ",e.address),r.a.createElement("li",null,"Note: ",e.note),r.a.createElement("li",null,"Verify date: ",e.verifyDate))))})))},y=n(463),k=function(e){var t=e.patients,n=e.onClickItemPatient,a=e.refs,l=e.indexClickedMaker;return r.a.createElement(y.a,{class:"list-group",as:"ul"},t&&t.map((function(e,t){return r.a.createElement(y.a.Item,{key:t,as:"li",ref:a[t],onClick:function(){n(e,t)},active:t===l},r.a.createElement("ul",null,r.a.createElement("li",null,e.name),r.a.createElement("li",null,e.address),r.a.createElement("li",null,e.note),r.a.createElement("li",null,e.verifyDate)))})))},j=n(105),O={position:"absolute",width:"100%",height:40,transform:"translate(0%, -50%)",cursor:"pointer"},w={position:"absolute",width:"100%",height:8,transform:"translate(0%, -50%)",borderRadius:4,pointerEvents:"none",backgroundColor:"rgb(155,155,155)"};function C(e){var t=e.getRailProps;return r.a.createElement(a.Fragment,null,r.a.createElement("div",Object.assign({style:O},t())),r.a.createElement("div",{style:w}))}function S(e){var t=Object(o.a)(e.domain,2),n=t[0],l=t[1],c=e.handle,i=c.id,u=c.value,s=c.percent,m=e.disabled,d=e.getHandleProps;return r.a.createElement(a.Fragment,null,r.a.createElement("div",Object.assign({style:{left:"".concat(s,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:5,width:24,height:42,cursor:"pointer",backgroundColor:"none"}},d(i))),r.a.createElement("div",{role:"slider","aria-valuemin":n,"aria-valuemax":l,"aria-valuenow":u,style:{left:"".concat(s,"%"),position:"absolute",transform:"translate(-50%, -50%)",zIndex:2,width:20,height:20,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.3)",backgroundColor:m?"#666":"#333"}}))}function x(e){var t=e.tick,n=e.count,a=e.format;return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",marginTop:14,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(t.percent,"%")}}),r.a.createElement("div",{style:{position:"absolute",marginTop:22,fontSize:10,textAlign:"center",fontFamily:"Arial, san-serif",marginLeft:"".concat(-100/n/2,"%"),width:"".concat(100/n,"%"),left:"".concat(t.percent,"%")}},a(t.value)))}S.defaultProps={disabled:!1},x.defaultProps={format:function(e){return e}};var M=n(465),P=n(462),T=n(460),D=n(464),I=n(461),A={position:"relative",width:"100%"},B=Object(M.a)(),N=new Date("2019-12-19"),R=N,z=B;function F(e){return Object(P.a)(new Date(e),"MMM dd")}var H=function(e){var t=e.onChangeSlider,n=e.addDaySelected,l=Object(a.useState)(N),c=Object(o.a)(l,2),s=c[0],m=c[1],d=Object(a.useState)(N),f=Object(o.a)(d,2),h=(f[0],f[1]),p=Object(a.useState)(!1),E=Object(o.a)(p,2),b=E[0],v=E[1];Object(a.useEffect)((function(){var e=b&&s.getTime()<=B.getTime()&&setInterval((function(){m((function(e){return Object(T.a)(e,1)})),h((function(e){return Object(T.a)(e,1)})),n(),s.getTime()===B.getTime()&&v((function(e){return!1}))}),500);return function(){return clearInterval(e)}}),[s,b]);var g=Object(I.a)().domain([R,z]).ticks(8).map((function(e){return+e}));return r.a.createElement("div",{class:"slider-center"},r.a.createElement("div",{style:{width:"100%",textAlign:"center",fontFamily:"Arial",margin:5}},r.a.createElement("h1",null,s&&Object(P.a)(s,"MMM dd yyyy"))),r.a.createElement(j.c,{rootStyle:A,domain:[+R,+z],mode:1,values:[+s],step:864e5,onChange:function(e){var n=Object(o.a)(e,1)[0],a=new Date(n);h(a),m((function(e){return a})),t([n])}},r.a.createElement(j.b,null,(function(e){var t=e.getRailProps;return r.a.createElement(C,{getRailProps:t})})),r.a.createElement(j.a,null,(function(e){var t=e.handles,n=e.getHandleProps;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(S,{key:e.id,handle:e,domain:[+R,+z],getHandleProps:n})})))})),r.a.createElement(j.d,{values:g},(function(e){var t=e.ticks;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(x,{key:e.id,tick:e,count:t.length,format:F})})))}))),r.a.createElement("div",{class:"button-play"},r.a.createElement(i.a,null,r.a.createElement(u.a,{xs:2},r.a.createElement(D.a,{variant:"dark",onClick:function(){v((function(e){return!0}))}},"Play")),r.a.createElement(u.a,{xs:2},r.a.createElement(D.a,{variant:"dark",onClick:function(){v((function(e){return!1}))}},"Pause")))))},V=new Date("2019-12-19"),G=function(e,t,n){e.length>0&&n[t]&&n[t].current.scrollIntoView({behavior:"smooth",block:"start"})},L=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),l=n[0],c=n[1],s=Object(a.useState)([]),m=Object(o.a)(s,2),d=m[0],p=m[1],E=Object(a.useState)(),b=Object(o.a)(E,2),v=b[0],y=b[1],j=Object(a.useState)(V),O=Object(o.a)(j,2),w=O[0],C=O[1],S=[],x=[];Object(a.useEffect)((function(){fetch("http://cors-anywhere.herokuapp.com/http://maps.vnpost.vn/apps/covid19/api/patientapi/list").then((function(e){return e.json()})).then((function(e){p(e.data)}),(function(e){}))}),[]),Object(a.useEffect)((function(){G(d,v,x)})),x=d.reduce((function(e,t,n){return e[n]=r.a.createRef(),e}),{});return d.map((function(e,t){new Date(e.verifyDate).getTime()<=w.getTime()&&(S=S.concat(e))})),r.a.createElement(h.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{xs:10},r.a.createElement(g,{onPatientMarkerClicked:function(e,t){c(e),y(t)},patients:S||d,currentPatient:l,refs:x})),r.a.createElement(u.a,{xs:2},l&&r.a.createElement(f,{name:l.name,address:l.address,note:l.note,verifyDate:l.verifyDate}))),r.a.createElement(i.a,null,r.a.createElement(u.a,{xs:10},r.a.createElement(k,{patients:S||d,onClickItemPatient:function(e,t){c(e),y(t)},refs:x,currentPatient:l,indexClickedMaker:v}))),r.a.createElement(i.a,null,r.a.createElement(u.a,{xs:10},r.a.createElement(H,{onChangeSlider:function(e){var t=Object(o.a)(e,1)[0],n=new Date(t);C(n),y(void 0)},addDaySelected:function(){C((function(e){return Object(T.a)(e,1)}))}}))))},U=n(100);var W=function(){var e={color:"white"};return r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav-links"},r.a.createElement(U.b,{to:"/giuaky/map",style:e},r.a.createElement("li",null,"B\u1ea3n \u0111\u1ed3 b\u1ec7nh nh\xe2n Covid Vi\u1ec7t Nam")),r.a.createElement(U.b,{to:"/giuaky/stats",style:e},r.a.createElement("li",null,"Bi\u1ec3u \u0111\u1ed3 s\u1ed1 ca m\u1eafc Covid"))))},J=n(133),K=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],c=[];return Object(a.useEffect)((function(){fetch("https://td.fpt.ai/corona/corona-chart-vn.json").then((function(e){return e.json()})).then((function(e){l(e)}),(function(e){console.log(e)}))}),[]),c=Object.keys(n),r.a.createElement("div",{className:"chart-card"},r.a.createElement("h1",null,"Bi\u1ec3u \u0111\u1ed3 b\u1ec7nh nh\xe2n nhi\u1ec5m covid \u1edf Vi\u1ec7t Nam"),r.a.createElement(J.a,{options:{responsive:!0},data:{labels:c.map((function(e,t){return t%6===0||t===c.length-1?e:""})),datasets:[{data:c.map((function(e){return n[e][0]})),label:"S\u1ed1 b\u1ec7nh nh\xe2n nh\xe2n nhi\u1ec5m b\u1ec7nh",borderColor:"red",fill:!0},{data:c.map((function(e){return n[e][1]})),label:"S\u1ed1 b\u1ec7nh nh\xe2n nghi nhi\u1ec5m",borderColor:"violet",fill:!0},{data:c.map((function(e){return n[e][2]})),label:"S\u1ed1 b\u1ec7nh nh\xe2n kh\u1ecfi b\u1ec7nh",borderColor:"green",fill:!0}]}}))},Q=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],c=[];return Object(a.useEffect)((function(){fetch("https://td.fpt.ai/corona/corona-total.json").then((function(e){return e.json()})).then((function(e){l(e)}),(function(e){console.log(e)}))}),[]),c=Object.keys(n),console.log(c.length),r.a.createElement("div",{className:"chart-card"},r.a.createElement("h1",null,"Bi\u1ec3u \u0111\u1ed3 b\u1ec7nh nh\xe2n nhi\u1ec5m covid \u1edf Th\u1ebf gi\u1edbi"),r.a.createElement(J.a,{options:{responsive:!0},data:{labels:c.map((function(e,t){return t%6===0||t===c.length-1?e:""})),datasets:[{data:c.map((function(e){return n[e][0]})),label:"S\u1ed1 b\u1ec7nh nh\xe2n nhi\u1ec5m b\u1ec7nh",borderColor:"red",fill:!0},{data:c.map((function(e){return n[e][1]})),label:"S\u1ed1 b\u1ec7nh nh\xe2n t\u1eed vong",borderColor:"black",fill:!0},{data:c.map((function(e){return n[e][2]})),label:"S\u1ed1 b\u1ec7nh nh\xe2n kh\u1ecfi b\u1ec7nh",borderColor:"green",fill:!0}]}}))},Y=function(){return r.a.createElement(h.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{xs:12},r.a.createElement(K,null))),r.a.createElement(i.a,null,r.a.createElement(u.a,{xs:12},r.a.createElement(Q,null))))},Z=n(72);var $=function(){return r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(Z.c,null,r.a.createElement(Z.a,{path:"/giuaky",exact:!0,component:L}),r.a.createElement(Z.a,{path:"/giuaky/map",component:L}),r.a.createElement(Z.a,{path:"/giuaky/stats",component:Y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[243,1,2]]]);
//# sourceMappingURL=main.114500ad.chunk.js.map